<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ExperimentManager script class: RetinotopyMapper.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ExperimentManager script class
   &#160;<span id="projectnumber">1.0.0.1</span>
   </div>
   <div id="projectbrief">The Experiment Manager script class reference.</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
</div>
<div class="header">
  <div class="headertitle">
<div class="title">RetinotopyMapper.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//ExperimentManagerplugin</span>
<a name="l00002"></a>00002 <span class="comment">//Copyright (C) 2015  Sven Gijsen</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">//This file is part of BrainStim.</span>
<a name="l00005"></a>00005 <span class="comment">//BrainStim is free software: you can redistribute it and/or modify</span>
<a name="l00006"></a>00006 <span class="comment">//it under the terms of the GNU General Public License as published by</span>
<a name="l00007"></a>00007 <span class="comment">//the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00008"></a>00008 <span class="comment">//(at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">//This program is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">//but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">//MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00013"></a>00013 <span class="comment">//GNU General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">//</span>
<a name="l00015"></a>00015 <span class="comment">//You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment">//along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00017"></a>00017 <span class="comment">//</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef RETINOTOPYMAPPER_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define RETINOTOPYMAPPER_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;experimentengine.h&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;retinotopymapperwindow.h&quot;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="comment">//Below defines must be all in lower case!</span>
<a name="l00026"></a>00026 
<a name="l00031"></a><a class="code" href="group___retino_universal_param_defs.html#gab60660aa67836656511b18522c2388e4">00031</a> <span class="preprocessor">#define RETINOMAPPER_STIMULI_REFRESHRATE                                &quot;stimulirefreshrate&quot;                    </span>
<a name="l00032"></a><a class="code" href="group___retino_universal_param_defs.html#gaca8d5147b22ee4c2825c869a13d44b15">00032</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN_POLARANGLE                                 &quot;polarangle&quot;                                    </span>
<a name="l00033"></a><a class="code" href="group___retino_universal_param_defs.html#gac68544060b8b02b29ffb1df1b04609b4">00033</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN_ECCENTRICITY                               &quot;eccentricity&quot;                                  </span>
<a name="l00034"></a><a class="code" href="group___retino_universal_param_defs.html#ga2dca4e3703cecd0ab2646ed19fd8085a">00034</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN_MOVINGBAR                                  &quot;movingbar&quot;                                             </span>
<a name="l00035"></a><a class="code" href="group___retino_universal_param_defs.html#gad769895789cc35e3fd195543baedbd34">00035</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN_MOVINGDOTS                                 &quot;movingdots&quot;                                    </span>
<a name="l00036"></a><a class="code" href="group___retino_universal_param_defs.html#gad50f346d07c95f47ebbc4cc4e44fa1d5">00036</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN_FIXATION                                   &quot;fixation&quot;                                              </span>
<a name="l00037"></a><a class="code" href="group___retino_universal_param_defs.html#ga655aa4fd88df7cc51f0449e560a28f53">00037</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN_CUSTOM                                             &quot;custom&quot;                                                </span>
<a name="l00038"></a><a class="code" href="group___retino_universal_param_defs.html#ga6fa8906d3e44dabc6d6b5705ce735b69">00038</a> <span class="preprocessor">#define RETINOMAPPER_PATTERN                                                    &quot;retinopattern&quot;                                 </span>
<a name="l00039"></a><a class="code" href="group___retino_universal_param_defs.html#ga271d9bd37b206143e042c2448da9237f">00039</a> <span class="preprocessor">#define RETINOMAPPER_CYCLE_TRIGGER_AMOUNT                               &quot;cycletriggeramount&quot;                    </span>
<a name="l00040"></a><a class="code" href="group___retino_universal_param_defs.html#ga2bcc7ec05d07da449421631fcd85112f">00040</a> <span class="preprocessor">#define RETINOMAPPER_SHOWFIXPOINT                                               &quot;showfixpoint&quot;                                  </span>
<a name="l00041"></a><a class="code" href="group___retino_universal_param_defs.html#ga771070686258a45d389d40760c6ff31e">00041</a> <span class="preprocessor">#define RETINOMAPPER_FIXSIZE                                                    &quot;fixationsize&quot;                                  </span>
<a name="l00042"></a><a class="code" href="group___retino_universal_param_defs.html#ga2a82487a21fe082596e161c641bbfcf4">00042</a> <span class="preprocessor">#define RETINOMAPPER_POS_LEFT                                                   &quot;left&quot;                                                  </span>
<a name="l00043"></a><a class="code" href="group___retino_universal_param_defs.html#ga790d205e34f31f27ec98ab099ab82497">00043</a> <span class="preprocessor">#define RETINOMAPPER_POS_RIGHT                                                  &quot;right&quot;                                                 </span>
<a name="l00044"></a><a class="code" href="group___retino_universal_param_defs.html#ga03b8fdab67ee4a81eb8de0bfdba75492">00044</a> <span class="preprocessor">#define RETINOMAPPER_POS_BOTH                                                   &quot;both&quot;                                                  </span>
<a name="l00045"></a><a class="code" href="group___retino_universal_param_defs.html#ga8132d52e03bacda77e52ef88c6fbcf1c">00045</a> <span class="preprocessor">#define RETINOMAPPER_GAP_DIAMETER                                               &quot;gapdiameter&quot;                                   </span>
<a name="l00046"></a><a class="code" href="group___retino_universal_param_defs.html#ga62d22c92786e4e28925eaa64282bf322">00046</a> <span class="preprocessor">#define RETINOMAPPER_FLICKRSPEED_HZ                                             &quot;flickrfrequency&quot;                               </span>
<a name="l00047"></a><a class="code" href="group___retino_universal_param_defs.html#gad2cf058c6c8d39f6cd45493d0ea50fa1">00047</a> <span class="preprocessor">#define RETINOMAPPER_CORTMAG_FACTOR                                             &quot;corticalmagnitudefactor&quot;               </span>
<a name="l00048"></a><a class="code" href="group___retino_universal_param_defs.html#gad35c3e175f9b2f3a8c0dc354b1012517">00048</a> <span class="preprocessor">#define RETINOMAPPER_TRIGGERDURATION_MSEC                               &quot;internaltriggerduration&quot;               </span>
<a name="l00049"></a><a class="code" href="group___retino_universal_param_defs.html#ga5dd630b8d86107fbb340900801ded428">00049</a> <span class="preprocessor">#define RETINOMAPPER_DISCRETETRIGGERSTEPS                               &quot;discretetriggersteps&quot;                  </span>
<a name="l00050"></a><a class="code" href="group___retino_universal_param_defs.html#gad0b51079dc29195dbfab7f97043a1764">00050</a> <span class="preprocessor">#define RETINOMAPPER_RANDOMIZETRIGGERSTEPS                              &quot;randomizetriggersteps&quot;                 </span>
<a name="l00051"></a><a class="code" href="group___retino_universal_param_defs.html#ga838be7a089edffcda2ee430384dfa2c8">00051</a> <span class="preprocessor">#define RETINOMAPPER_RANDOMIZETRIGGERSTEPS_ARRAY                &quot;randomizetriggerstepsarray&quot;    </span>
<a name="l00052"></a><a class="code" href="group___retino_universal_param_defs.html#ga79d561e80a76bccc4d5bb0f72db330e1">00052</a> <span class="preprocessor">#define RETINOMAPPER_EMPTYTRIGGERSTEPS                                  &quot;emptytriggersteps&quot;                             </span>
<a name="l00053"></a><a class="code" href="group___retino_universal_param_defs.html#gae9dd16c4c5f45750f68e64b7fde5401d">00053</a> <span class="preprocessor">#define RETINOMAPPER_EMPTYTRIGGERSTEPS_ARRAY                    &quot;emptytriggerstepsarray&quot;                </span>
<a name="l00054"></a><a class="code" href="group___retino_universal_param_defs.html#gaef71a6812fb273a593e23557bfd47321">00054</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTTRIGGERFRAME                                 &quot;outputtriggerframe&quot;                    </span>
<a name="l00055"></a><a class="code" href="group___retino_universal_param_defs.html#gaa7007fbe19bdc27f9991a2b230a02c4c">00055</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTFRAMETYPE                                    &quot;outputframetype&quot;                               </span>
<a name="l00056"></a><a class="code" href="group___retino_universal_param_defs.html#ga28e2ddda7714ab9d611359f40c2c5c35">00056</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTTYPE_FRAME                                   &quot;frame&quot;                                                 </span>
<a name="l00057"></a><a class="code" href="group___retino_universal_param_defs.html#ga5bc54e7c38a25ad0b9da330451a5982a">00057</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTTYPE_MASK                                    &quot;mask&quot;                                                  </span>
<a name="l00058"></a><a class="code" href="group___retino_universal_param_defs.html#gaf88132224cfc053906e4dee294e1e7fd">00058</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTFRAMEFORMAT                                  &quot;outputframeformat&quot;                             </span>
<a name="l00059"></a><a class="code" href="group___retino_universal_param_defs.html#ga8b24d2c5fa3c9405f33a03edff290e4d">00059</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTFORMAT_PNG                                   &quot;png&quot;                                                   </span>
<a name="l00060"></a><a class="code" href="group___retino_universal_param_defs.html#ga61fc21c5a661b104ef7c851a736f1cc5">00060</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTFORMAT_DAT                                   &quot;dat&quot;                                                   </span>
<a name="l00061"></a><a class="code" href="group___retino_universal_param_defs.html#gabaf8fe094eb15b4e56f2457b7d575c28">00061</a> <span class="preprocessor">#define RETINOMAPPER_OUTPUTFORMAT_CDAT                                  &quot;cdat&quot;                                                  </span>
<a name="l00062"></a><a class="code" href="group___retino_universal_param_defs.html#ga903803955744f3fcb782c75e72dfb35f">00062</a> <span class="preprocessor">#define RETINOMAPPER_ANTIALIASING                                               &quot;antialiasing&quot;                                  </span>
<a name="l00063"></a><a class="code" href="group___retino_universal_param_defs.html#ga303b3a6fd5cfbdec6b2745fff3b49f79">00063</a> <span class="preprocessor">#define RETINOMAPPER_DISABLECORTMAGFAC                                  &quot;disablecortmagfac&quot;                             </span>
<a name="l00064"></a><a class="code" href="group___retino_universal_param_defs.html#gad1ce4668da8f0f450c21df53376ee21c">00064</a> <span class="preprocessor">#define RETINOMAPPER_CHECKERCOLOR1                                              &quot;checkercolor1&quot;                                 </span>
<a name="l00065"></a><a class="code" href="group___retino_universal_param_defs.html#ga2d1dfa04d2ba8642ed1f312e431887df">00065</a> <span class="preprocessor">#define RETINOMAPPER_CHECKERCOLOR2                                              &quot;checkercolor2&quot;                                 </span>
<a name="l00066"></a><a class="code" href="group___retino_universal_param_defs.html#gaba01fc38d8c771339affd5f660729736">00066</a> <span class="preprocessor">#define RETINOMAPPER_FIXATIONCOLOR                                              &quot;fixationcolor&quot;                                 </span>
<a name="l00072"></a><a class="code" href="group___retino_polar_angle_param_defs.html#gab7c6c4bd109033e261fde6638b77cdd5">00072</a> <span class="preprocessor">#define RETINOMAPPER_POLAR_RING_AMOUNT                                  &quot;polarringamount&quot;                               </span>
<a name="l00073"></a><a class="code" href="group___retino_polar_angle_param_defs.html#ga8711b6ea8ba980baf11e40f06b373f8b">00073</a> <span class="preprocessor">#define RETINOMAPPER_POLAR_ROTATION_DIRECTION                   &quot;polarrotationdirection&quot;                </span>
<a name="l00074"></a><a class="code" href="group___retino_polar_angle_param_defs.html#ga819457bf55dae94a8793c85365788a8e">00074</a> <span class="preprocessor">#define RETINOMAPPER_POLAR_WEDGE_SPAN                                   &quot;polarwedgespan&quot;                                </span>
<a name="l00075"></a><a class="code" href="group___retino_polar_angle_param_defs.html#ga26260954bcb0aac31ce08cd66ef5c070">00075</a> <span class="preprocessor">#define RETINOMAPPER_POLAR_CHECK_AMOUNT                                 &quot;polarcheckamount&quot;                              </span>
<a name="l00081"></a><a class="code" href="group___retino_eccentricity_param_defs.html#ga0c6f4fc035e25ff373f5776cadb54889">00081</a> <span class="preprocessor">#define RETINOMAPPER_ECCENTRICITY_DIRECTION                             &quot;eccentricitydirection&quot;                 </span>
<a name="l00082"></a><a class="code" href="group___retino_eccentricity_param_defs.html#ga619c54902632f73f175a5e19353021cc">00082</a> <span class="preprocessor">#define RETINOMAPPER_ECCENTRICITY_CHECK_AMOUNT                  &quot;eccentricitycheckamount&quot;               </span>
<a name="l00083"></a><a class="code" href="group___retino_eccentricity_param_defs.html#ga778d9e9a9bbb85faec07969d6c66017b">00083</a> <span class="preprocessor">#define RETINOMAPPER_ECCENTRICITY_RING_AMOUNT                   &quot;eccentricityringamount&quot;                </span>
<a name="l00084"></a>00084 <span class="preprocessor">#define RETINOMAPPER_ECCENTRICITY_ENABLE_CORTMAG_TIMING &quot;enablecortmagtiming&quot;                   //Not documented!</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00090"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga71d518c88a6d81e578075e644df5bcd0">00090</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGBAR_ANGLE                                    &quot;movingbarangle&quot;                                </span>
<a name="l00091"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga9707d0b759bc5122a52081506a5842b9">00091</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGBAR_COVERAGE                                 &quot;movingbarcoverage&quot;                             </span>
<a name="l00092"></a><a class="code" href="group___retino_moving_bar_param_defs.html#gac036721460814deef9a559b1f31e3fb3">00092</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGBAR_HEIGHT                                   &quot;movingbarheight&quot;                               </span>
<a name="l00093"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga1f6e1869adae8f02bc34177684200345">00093</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGBAR_DIRECTION                                &quot;movingbardirection&quot;                    </span>
<a name="l00094"></a><a class="code" href="group___retino_moving_bar_param_defs.html#gaf84d27fcbe989f65b939913ade5b3cb5">00094</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGBAR_HEIGTH_CHECK_AMOUNT              &quot;movingbarheightcheckamount&quot;    </span>
<a name="l00095"></a>00095 <span class="preprocessor">//MovingDots specific defines</span>
<a name="l00096"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga0544dff2e78e246b45c1485c6046d2ea">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_COLOR                                   &quot;movingdotscolor&quot;                               </span>
<a name="l00097"></a><a class="code" href="group___retino_moving_bar_param_defs.html#gadd15deb4d17ee9debacfb8dabce85924">00097</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_MIN_MOVESPEED                   &quot;movingdotsminmovespeed&quot;                </span>
<a name="l00098"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga8182fa6ab281fda7c8938d4150b95989">00098</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_MAX_MOVESPEED                   &quot;movingdotsmaxmovespeed&quot;                </span>
<a name="l00099"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga78c3ef34aef74b59c29675c86809e1d0">00099</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_MIN_MOVEANGLE                   &quot;movingdotsminmoveangle&quot;                </span>
<a name="l00100"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga73777211bdf80632a6978ffecf531c44">00100</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_MAX_MOVEANGLE                   &quot;movingdotsmaxmoveangle&quot;                </span>
<a name="l00101"></a><a class="code" href="group___retino_moving_bar_param_defs.html#gaa3d5fdb65eee3d9dad4dd63680d03890">00101</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_NROFDOTS                                &quot;movingdotsnrofdots&quot;                    </span>
<a name="l00102"></a><a class="code" href="group___retino_moving_bar_param_defs.html#gabd866863b8cca1c0a509454e3887e8db">00102</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_DOTSIZE                                 &quot;movingdotsdotsize&quot;                             </span>
<a name="l00103"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga5dd16b2515a74418e0132f9f26612795">00103</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_HEMIFIELD                               &quot;movingdotshemifield&quot;                   </span>
<a name="l00104"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga3008027da80ed42a16832698e4fdd57b">00104</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_PIXELFROMCENTER                 &quot;movingdotspixelfromcenter&quot;             </span>
<a name="l00105"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga2f5ca6e62c783392b2bbcb4c42a91186">00105</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_STATIONAIRY                             &quot;movingdotsstationairy&quot;                 </span>
<a name="l00106"></a><a class="code" href="group___retino_moving_bar_param_defs.html#gabbbbb6680b5992a6d0bd8f9189f4bf02">00106</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_HEMIFIELDWIDTH                  &quot;movingdotshemifieldwidth&quot;              </span>
<a name="l00107"></a><a class="code" href="group___retino_moving_bar_param_defs.html#ga98b4769fa43c2fee8ca31f70b4809ae0">00107</a> <span class="preprocessor">#define RETINOMAPPER_MOVINGDOTS_HEMIFIELDHEIGHT                 &quot;movingdotshemifieldheight&quot;             </span>
<a name="l00110"></a>00110 <span class="preprocessor">#define RETINOMAPPER_OUTPUT_SUBFOLDER                                   &quot;/RetinoWidget/&quot;</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>
<a name="l00112"></a>00112 <span class="keyword">typedef</span> <span class="keyword">struct </span>strcMovingDotsStructure
<a name="l00113"></a>00113 {
<a name="l00114"></a>00114         QPolygonF Pos; <span class="comment">//A QPolygonF is a QVector&lt;QPointF&gt;. The easiest way to add points to a QPolygonF is to use its streaming operator: polygon &lt;&lt; QPointF(10.4, 20.5) &lt;&lt; QPointF(20.2, 30.2);</span>
<a name="l00115"></a>00115         QPolygonF OldPos;
<a name="l00116"></a>00116         QList&lt;QLineF&gt; Mov;
<a name="l00117"></a>00117 } MovingDotsStructure;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="keyword">class </span><a class="code" href="class_experiment_engine.html" title="The ExperimentEngine class.">ExperimentEngine</a>;
<a name="l00120"></a>00120 
<a name="l00122"></a>00122 
<a name="l00126"></a><a class="code" href="class_retinotopy_mapper.html">00126</a> <span class="keyword">class </span><a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a> : <span class="keyword">public</span> <a class="code" href="class_experiment_engine.html" title="The ExperimentEngine class.">ExperimentEngine</a>
<a name="l00127"></a>00127 {
<a name="l00128"></a>00128         Q_OBJECT
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="keyword">public</span>:
<a name="l00131"></a>00131         <span class="keyword">friend</span> <span class="keyword">class </span>RetinotopyMapperWindow;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133         <a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a>(QObject *parent = NULL);
<a name="l00134"></a>00134         ~<a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a>();
<a name="l00135"></a>00135         <a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a>(<span class="keyword">const</span> <a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a>&amp; other ){Q_UNUSED(other);};
<a name="l00136"></a>00136 
<a name="l00137"></a>00137         <span class="keyword">static</span> QScriptValue ctor__RetinotopyMapper(QScriptContext* context, QScriptEngine* engine);
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="keyword">public</span> slots:
<a name="l00140"></a>00140         <span class="keywordtype">bool</span> initObject();
<a name="l00141"></a>00141         <span class="keywordtype">bool</span> makeThisAvailableInScript(QString strObjectScriptName = <span class="stringliteral">&quot;&quot;</span>, QObject *engine = NULL);<span class="comment">//To make the objects (e.g. defined in a *.exml file) available in the script</span>
<a name="l00142"></a>00142         <span class="keywordtype">bool</span> startObject();
<a name="l00143"></a>00143         <span class="comment">//bool setObjectID(int nObjID);</span>
<a name="l00144"></a>00144         <span class="keywordtype">bool</span> initObjectBlockTrial();
<a name="l00145"></a>00145         <span class="comment">//bool paintObject(int paintFlags = 0, QObject *paintEventObject = NULL);</span>
<a name="l00146"></a>00146         <span class="keywordtype">bool</span> <a class="code" href="class_retinotopy_mapper.html#a12964f02ef522fdfe63a5de2bbce06e7">installCustomScriptHandlerFunction</a>(QString FuncName);
<a name="l00147"></a>00147         <span class="keywordtype">bool</span> setExperimentManager(<a class="code" href="class_experiment_manager.html" title="The ExperimentManager class.">ExperimentManager</a> *expManager);
<a name="l00148"></a>00148         <span class="keywordtype">bool</span> setExperimentObjectReadyToUnlock();
<a name="l00149"></a>00149         QScreen* <a class="code" href="class_retinotopy_mapper.html#a5670410b87c61cfba56ecf3b4ff759af" title="Returns a QScreen object representing the active Stimuli Output Screen.">getActiveStimuliOutputScreen</a>();
<a name="l00150"></a>00150         <span class="keywordtype">bool</span> <a class="code" href="class_retinotopy_mapper.html#aebe5114259bca7ff1e1680a96d058906" title="Sets a Screen referred by it&#39;s Screen Number as the current active Stimuli Output Screen...">setActiveStimuliOutputScreen</a>(<span class="keywordtype">int</span> nScreenNumber);
<a name="l00151"></a>00151         <span class="keywordtype">bool</span> <a class="code" href="class_retinotopy_mapper.html#ae811ef8bd7108d634a97cd1418e5020f" title="Configures the Output Directory Path.">setCustomOutputDirectoryPath</a>(<span class="keyword">const</span> QString &amp;sOutputDirectory);
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="keyword">protected</span>:
<a name="l00154"></a>00154         <span class="keywordtype">bool</span> eventFilter(QObject *target, QEvent *event);
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="keyword">private</span>:
<a name="l00157"></a>00157         <span class="keywordtype">void</span> initialize();
<a name="l00158"></a>00158         <span class="keywordtype">void</span> parseExperimentObjectBlockParameters(<span class="keywordtype">bool</span> bInit = <span class="keyword">false</span>);
<a name="l00159"></a>00159         <span class="keywordtype">void</span> initializeMovingDotsStructures();
<a name="l00160"></a>00160         QString booleanToParamString(<span class="keywordtype">bool</span> bValue);
<a name="l00161"></a>00161         <span class="keywordtype">bool</span> paramStringToBool(QString sValue);
<a name="l00162"></a>00162         <span class="keywordtype">void</span> adjustStimScreenArea();
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         QScriptValue *customScriptHandlerFunction;
<a name="l00165"></a>00165         RetinotopyMapperWindow *retinoMapperWindow;
<a name="l00166"></a>00166         <span class="keywordtype">int</span> nRefreshRate;
<a name="l00167"></a>00167         <span class="comment">//int nRetinoID;                                                                //This variable stores the ObjectID used to identify the object</span>
<a name="l00168"></a>00168         QString currentExpType;                                         <span class="comment">//The experiment type used, see RetinoMapExperimentType</span>
<a name="l00169"></a>00169         <span class="keywordtype">bool</span> firstBlockTrialPaintFrame;                         <span class="comment">//To determine whether it&#39;s the first frame to paint from a new Block trial</span>
<a name="l00170"></a>00170         QColor colorBackground;                                         <span class="comment">//The color of the background</span>
<a name="l00171"></a>00171         QBrush brushBackground;                                         <span class="comment">//The background brush</span>
<a name="l00172"></a>00172         QFont textFont;                                                         <span class="comment">//The font used for text(debug mode)</span>
<a name="l00173"></a>00173         QPen textPen;                                                           <span class="comment">//The pen used for text(debug mode)</span>
<a name="l00174"></a>00174         QColor whiteColor;                                                      <span class="comment">//The color used for the activation map (active)</span>
<a name="l00175"></a>00175         QColor blackColor;                                                      <span class="comment">//The color used for the activation map (inactive)</span>
<a name="l00176"></a>00176         QString textContent;                                            <span class="comment">//Variable to store the text string</span>
<a name="l00177"></a>00177         QRectF rectScreenRes;                                           <span class="comment">//The screen resolution</span>
<a name="l00178"></a>00178         <span class="keywordtype">float</span> flickrThreshold;                                          <span class="comment">//Variable for keeping track of the next flickr switch threshold time</span>
<a name="l00179"></a>00179         <span class="keywordtype">float</span> flickrSpeedFreq;                                          <span class="comment">//The flickr speed frequency</span>
<a name="l00180"></a>00180         <span class="keywordtype">int</span> flickrSwitch;                                                       <span class="comment">//Variable to store the current flickr state</span>
<a name="l00181"></a>00181         <span class="keywordtype">int</span> cycleTriggerAmount;                                         <span class="comment">//The total block duration in amount of triggers</span>
<a name="l00182"></a>00182         <span class="keywordtype">int</span> triggerDurationMsec;                                        <span class="comment">//The duration of one trigger in mSec</span>
<a name="l00183"></a>00183         <span class="keywordtype">float</span> stimWidthPixelAmount;                                     <span class="comment">//The amount of visible stimuli pixels(height)</span>
<a name="l00184"></a>00184         <span class="keywordtype">float</span> stimHeightPixelAmount;                            <span class="comment">//The amount of visible stimuli pixels(width)</span>
<a name="l00185"></a>00185         QColor fixationColor;                                           <span class="comment">//The color of the fixation dot/cross</span>
<a name="l00186"></a>00186         <span class="keywordtype">int</span> fixationSize;                                                       <span class="comment">//The width of the fixation dot/cross</span>
<a name="l00187"></a>00187         <span class="keywordtype">bool</span> showFixationPoint;                                         <span class="comment">//Should we show an fixation point?</span>
<a name="l00188"></a>00188         <span class="keywordtype">bool</span> outputTriggerFrame;                                        <span class="comment">//Defines whether we should output(write to a *.png file) the first frame</span>
<a name="l00189"></a>00189         <span class="keywordtype">bool</span> discreteTriggerSteps;                                      <span class="comment">//Defines whether the stimuli should run smooth or in discrete steps according to each trigger received</span>
<a name="l00190"></a>00190         <span class="keywordtype">bool</span> randomizeTriggerSteps;                                     <span class="comment">//Defines whether the stimuli should randomize after each trigger received</span>
<a name="l00191"></a>00191         <span class="keywordtype">bool</span> antiAliasing;                                                      <span class="comment">//Defines whether the anti-aliasing filter should be used for painting to the screen</span>
<a name="l00192"></a>00192         <span class="comment">//int lastTriggerNumber;                                                //To keep track of the last trigger number</span>
<a name="l00193"></a>00193         <span class="keywordtype">int</span> emptyTriggerSteps;                                          <span class="comment">//Defines the number of Trigger steps in which no stimuli should be presented</span>
<a name="l00194"></a>00194         QStringList emptyTriggerStepsArray;
<a name="l00195"></a>00195         QStringList randomizeTriggerStepsArray;
<a name="l00196"></a>00196         <span class="keywordtype">bool</span> bNoChangesSinceLastFrame;
<a name="l00197"></a>00197         <a class="code" href="class_experiment_manager.html" title="The ExperimentManager class.">ExperimentManager</a> *experimentManager;
<a name="l00198"></a>00198         QString sCustomOutputDirectoryPath;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200         QColor movingDotsColor;
<a name="l00201"></a>00201         QColor cCheckerColor1;
<a name="l00202"></a>00202         QColor cCheckerColor2;
<a name="l00203"></a>00203         Qt::PenStyle style;
<a name="l00204"></a>00204         Qt::PenCapStyle flatCap;
<a name="l00205"></a>00205         Qt::PenCapStyle roundCap;
<a name="l00206"></a>00206         QString tmpParamValue;
<a name="l00207"></a>00207         <span class="comment">//float fStimulusDiameter;</span>
<a name="l00208"></a>00208         <span class="keywordtype">double</span> dStimulusDiameter;
<a name="l00209"></a>00209         <span class="keywordtype">float</span> fTrialTimeProgress;
<a name="l00210"></a>00210         <span class="keywordtype">float</span> fCortMagTrialTimeProgress;
<a name="l00211"></a>00211         <span class="keywordtype">bool</span> bCreateActivationMap;
<a name="l00212"></a>00212         <span class="keywordtype">int</span> currExpBlockTrialCycle;
<a name="l00213"></a>00213         <span class="keywordtype">bool</span> nextNewCycleEntered;
<a name="l00214"></a>00214         <span class="keywordtype">bool</span> nextNewBlockEntered;
<a name="l00215"></a>00215         <span class="keywordtype">float</span> cortMagFactor;
<a name="l00216"></a>00216         <span class="keywordtype">int</span> gapDiameter;
<a name="l00217"></a>00217         <span class="keywordtype">float</span> wedgeSpanAngle;
<a name="l00218"></a>00218         <span class="keywordtype">float</span> currentWedgeDiameter;
<a name="l00219"></a>00219         <span class="keywordtype">float</span> currentCompleteWedgeDiameter;
<a name="l00220"></a>00220         <span class="comment">//float currentSize;</span>
<a name="l00221"></a>00221         <span class="keywordtype">double</span> dCurrentSize;
<a name="l00222"></a>00222         <span class="keywordtype">float</span> currentOuterCompleteRingDiameter;
<a name="l00223"></a>00223         <span class="keywordtype">float</span> currentXPoint;
<a name="l00224"></a>00224         <span class="keywordtype">float</span> currentYPoint;
<a name="l00225"></a>00225         <span class="keywordtype">float</span> currentStartAngle;
<a name="l00226"></a>00226         <span class="keywordtype">bool</span> disableCortMagFac;
<a name="l00227"></a>00227         <span class="keywordtype">bool</span> enableCortMagTiming;
<a name="l00228"></a>00228         <span class="keywordtype">int</span> emptyTriggerLastIndex;
<a name="l00229"></a>00229         <span class="keywordtype">int</span> emptyTriggerStepCount;
<a name="l00230"></a>00230         <span class="keywordtype">bool</span> bAllTrialEmptyProcessed;
<a name="l00231"></a>00231         <span class="comment">//bool allEmptyBlockTrialsProcessed;</span>
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         <span class="comment">//Polar</span>
<a name="l00234"></a>00234         <span class="keywordtype">float</span> polarWedgeSpan;
<a name="l00235"></a>00235         <span class="keywordtype">int</span> polarWedgeNrChecks;
<a name="l00236"></a>00236         <span class="keywordtype">int</span> polarWedgeNrRings;
<a name="l00237"></a>00237         <span class="keywordtype">int</span> polarRotationDirection;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="comment">//Eccentricity</span>
<a name="l00240"></a>00240         <span class="keywordtype">int</span> eccentricityNrChecks;
<a name="l00241"></a>00241         <span class="keywordtype">int</span> eccentricityNrRings;
<a name="l00242"></a>00242         <span class="keywordtype">int</span> eccentricityDirection;
<a name="l00243"></a>00243         <span class="keywordtype">float</span> fCalculatedCortMagFacTimingConst;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245         <span class="comment">//MovingBar</span>
<a name="l00246"></a>00246         <span class="keywordtype">float</span> movingBarAngle;
<a name="l00247"></a>00247         <span class="keywordtype">float</span> movingBarCoverage;
<a name="l00248"></a>00248         <span class="keywordtype">float</span> movingBarHeight;
<a name="l00249"></a>00249         <span class="keywordtype">int</span> movingBarWidthCheckAmount;
<a name="l00250"></a>00250         <span class="keywordtype">int</span> movingBarHeightCheckAmount;
<a name="l00251"></a>00251         <span class="keywordtype">int</span> movingBarDirection;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253         <span class="keywordtype">float</span> movingDotsMinMoveSpeed;
<a name="l00254"></a>00254         <span class="keywordtype">float</span> movingDotsMaxMoveSpeed;
<a name="l00255"></a>00255         <span class="keywordtype">int</span> movingDotsMinMoveAngle;
<a name="l00256"></a>00256         <span class="keywordtype">int</span> movingDotsMaxMoveAngle;
<a name="l00257"></a>00257         <span class="keywordtype">int</span> movingDotsDotSize;
<a name="l00258"></a>00258         QLineF movingDotsFirstHemiVisibleArea; <span class="comment">//The absolute area of the first visible hemisphere from the left-top to the right-bottom</span>
<a name="l00259"></a>00259         <span class="keywordtype">int</span> movingDotsNrOfDots;
<a name="l00260"></a>00260         <span class="keywordtype">bool</span> movingDotsIsStationary;
<a name="l00261"></a>00261         QString movingDotsHemifieldPos;
<a name="l00262"></a>00262         <span class="keywordtype">int</span> movingDotsPixelFromCenter;
<a name="l00263"></a>00263         <span class="keywordtype">int</span> movingDotsHemiFieldWidth;
<a name="l00264"></a>00264         <span class="keywordtype">int</span> movingDotsHemiFieldHeight;
<a name="l00265"></a>00265         MovingDotsStructure movingDots;
<a name="l00266"></a>00266         QString retinoOutputType;
<a name="l00267"></a>00267         QString retinoOutputFormat;
<a name="l00268"></a>00268         QPixmap StimulusResultImageFrame;
<a name="l00269"></a>00269         QPixmap StimulusActivationMap;
<a name="l00270"></a>00270         <a class="code" href="class_random_generator.html" title="The RandomGenerator class.">RandomGenerator</a> *randStimStateGenerator;                 <span class="comment">//To hold the Stimuli Trigger Step</span>
<a name="l00271"></a>00271         <a class="code" href="class_random_generator.html" title="The RandomGenerator class.">RandomGenerator</a> *randEmptyStimGenerator;                 <span class="comment">//To hold the Empty Block Trials</span>
<a name="l00272"></a>00272         <a class="code" href="class_random_generator.html" title="The RandomGenerator class.">RandomGenerator</a> *previousRandEmptyStimGenerator; <span class="comment">//To hold the processed Empty Block Trials</span>
<a name="l00273"></a>00273         QScriptValue scriptVal1;
<a name="l00274"></a>00274         QScriptValue scriptVal2;
<a name="l00275"></a>00275         QRect rStimuliScreenArea;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <span class="keywordtype">double</span> dAdditionalRefreshDelayTime;
<a name="l00278"></a>00278         <span class="keywordtype">double</span> dWaitTime;
<a name="l00279"></a>00279         <span class="comment">//double dLastPreSwapTime;</span>
<a name="l00280"></a>00280 };
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 Q_DECLARE_METATYPE(<a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a>)
<a name="l00283"></a>00283 Q_DECLARE_METATYPE(<a class="code" href="class_retinotopy_mapper.html" title="The RetinotopyMapper class.">RetinotopyMapper</a>*)
<a name="l00284"></a>00284 Q_DECLARE_METATYPE(QPixmap*)
<a name="l00285"></a>00285 Q_DECLARE_METATYPE(QPainter*)
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 <span class="preprocessor">#endif // RETINOTOPYMAPPER_H</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 14 2015 15:14:03 for ExperimentManager script class by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
