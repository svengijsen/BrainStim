<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--doc-version-default-links-begin-->
<!-- Please do not edit the below line(s) manually, see DocumentVersioning.qs (151116145015), version 1.1.0.1-->
<!-- Bootstrap core CSS -->
<link href="../../bootstrap/css/bootstrap.min.css" type="text/css" rel="stylesheet"/>
<!-- Bootstrap theme -->
<link href="../../bootstrap/css/bootstrap-theme.min.css" type="text/css" rel="stylesheet"/>
<!-- Code-Prettify -->
<link href="../../google-code-prettify/prettify.css" type="text/css" rel="stylesheet"/>
<script src="../../google-code-prettify/prettify.js" type="text/javascript"></script>
<!-- Custom styles for this template -->
<link href="../../css/custom_theme.css" type="text/css" rel="stylesheet"/>
<!--doc-version-default-links-end-->
<!--doc-version-title-begin-->
<!-- Please do not edit the below line(s) manually, see DocumentVersioning.qs (151116145015), version 1.1.0.1-->
<title>Custom Menus v1.0</title>
<!--doc-version-title-end-->
</head>
<body>
    <div class="container">

<!--doc-version-default-header-begin-->
<!-- Please do not edit the below line(s) manually, see DocumentVersioning.qs (151116145015), version 1.1.0.1-->
	<div class="doc-header">
		<div class="alert alert-info" role="alert">
			<h1>Custom Menus</h1>
			<div class="row">
				<div class="col-md-4"><p><strong>Document version: </strong>1.0</p></div>
				<div class="col-md-4"><p><strong>Author(s): </strong>Sven Gijsen</p></div>
				<div class="col-md-4"><p><strong>Date: </strong>July 2015</p></div>
			</div>
		</div>
	</div>
<!--doc-version-default-header-end-->
    <h2>
        Introduction</h2>
		The <a href="../GettingStartedGuide/GettingStartedGuide.html#MenuBar">default 
		menu bar</a> of BrainStim can be extended by implementing one or more 
		menu configuration files. These files should then be stored inside the
		<em><strong>Menus</strong></em> subfolder of the
		<a href="../GettingStartedGuide/GettingStartedGuide.html#MainProgramdirectory">Main Program directory</a> 
		(or in 
		one or more subfolders under this directory). The configuration file can 
		have it's own name, but the file type extension must be <em>ini</em> 
		(*.ini). <h2>
        Example</h2>
		<p>
		Let's create a 
		custom menu configuration file:</p>
    	<ol>
			<li>Start BrainStim.</li>
			<li>Create a new document by using the menu <kbd>File</kbd> &gt; <kbd>New</kbd> &gt; <kbd>Undefined Document</kbd>. Save the file inside the 
			<em><strong>Menus</strong></em> subfolder of the
			<a href="../GettingStartedGuide/GettingStartedGuide.html#MainProgramdirectory">Main Program directory</a> 
			(or in one or more custom subfolders by adding these first inside 
			this 
			directory) by using the menu&nbsp; <kbd>File</kbd> &gt; <kbd>Save 
			As...</kbd> and then give it a name using the ini (*.ini) extension, 
			like <em>myMenu.ini</em>. <br />
			Alternatively you could also open (<kbd>File</kbd> &gt; <kbd>Open</kbd>) 
			the file named <em>Example1.ini</em> inside the <em><strong>Menus/Examples</strong></em> subfolder of the
			<a href="../GettingStartedGuide/GettingStartedGuide.html#MainProgramdirectory">Main Program directory</a>. 
			If you choose to do so the you don't need to add the below lines as 
			described in this example below, but only uncomment them by removing 
			the # prefix (except for step 3).</li>
			<li>Edit the new document by adding first some commenting lines by adding 
			the prefix <strong>#</strong> before each of the commented lines like:
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh"># This file is used for creating some custom toolbar menu entries
# This line is treated as comment because its prepended with the hash(#) symbol
# and therefore not used (skipped) for creating the menu entries.</code></pre>
					</td>
				</tr>
			</table>
			<p>The first thing we need to do before we can start adding some 
			custom menu entry keys is to add a special group to which all menu 
			entry keys are added. This group should be named <strong>
			CustomMenuActions</strong> and is placed between brackets ([]) to 
			mark it as a group like:</p>
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh">[CustomMenuActions]</code></pre>
					</td>
				</tr>
			</table>
			<p>Now we can start adding custom menu entry keys to the group we've 
			just created following this syntax:</p>
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh">&lt;MenuEntryKeyName&gt;=&lt;MenuEntryType&gt;|&lt;MenuEntryFilePath&gt;|&lt;MenuEntryMenuPath&gt;</code></pre>
					</td>
				</tr>
			</table>
			<p>We can see from the above syntax that each menu entry key has a 
			name section that is defined by 3 sections which are separated by a vertical 
			bar (|) sign. The following table explains each section:</p>
			<table class="table table-condensed">
			  <thead>
			    <tr>
			      <th>section</th>
			      <th><em>Description</em></th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr>
			      <th scope="row">MenuEntryKeyName</th>
			      <td>The name of the menu entry key, this name is internally 
				  used and can be anything as long ads there are no empty spaces 
				  in it and it shouldn't start with a hash (#) sign (because the 
				  line would then be commented/skipped). <strong>Important!</strong> The 
				  custom menu items are sorted by this name before they are 
				  added to the menu, so if two item are added to the same 
				  (sub)menu then you should bear in mind that their name 
				  determines the position in the menu.</td>
			    </tr>
			    <tr>
			      <th scope="row">MenuEntryType</th>
			      <td><p>This section specifies the type of the menu entry, the 
				  type can be:</p> 
				  <ul>
					  <li><strong>MenuItem</strong>: defines that this custom 
					  menu entry should only be added to the menu and no further 
					  action needs to be taken when this custom menu entry is 
					  clicked. The <em>MenuEntryFilePath</em> 
					  section should be left empty.</li>
					  <li><strong>ScriptPath</strong>: defines that 
				  this custom menu entry refers to a script file that is automatically executed 
					  when this custom menu item is clicked. The <em>MenuEntryFilePath</em> section should contain the 
					  file path of the script file.</li>
				  </ul>
					</td>
			    </tr>
			    <tr>
			      <th scope="row">MenuEntryFilePath</th>
			      <td>Depending on the <em>MenuEntryType</em> (see above) this 
				  can be left empty or contain a relative or absolute file path.<strong> 
				  Important!</strong> a specified file path should either have a 
				  forward-slash (<strong>/</strong>) 
				  character or double back-slashes (\\) characters for each 
				  directory separator.</td>
			    </tr>
			      <tr>
			      <th scope="row">MenuEntryMenuPath</th>
			      <td>This defines the resulting menu path architecture for the 
				  new custom menu entry, each level should be specified by using 
				  a forward-slash character and starting from the top menu going 
				  down to the custom menu entry. Sub-menu's are automatically 
				  created if needed. You can also add a horizontal separator 
				  (line) in a submenu between menu entries to make a better 
				  visual distinction between the entries. You can do this by 
				  using the <em>MenuEntryType</em> <strong>MenuItem</strong> and 
				  using a underscore (_) character for the lowest/last level in 
				  this <strong>MenuEntryMenuPath</strong> section, see below for 
				  an example.</td>
   		      	</tr>
			  </tbody>
			</table>
			
			<p>Let's add some different custom menu entries:</p>
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh">CustomMenu_000=ScriptPath|Examples/Scripts/BrainStim/QtScript Functions/Functions.qs|Examples/Scripts/Functions 1</code></pre>
					</td>
				</tr>
			</table>
			<p>A relative path (starting from the
			<a href="../GettingStartedGuide/GettingStartedGuide.html#MainProgramdirectory">Main 
			Program directory</a>) to a example script that should be executed 
			when the custom menu entry is clicked.</p>
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh">CustomMenu_001=MCustomMenu_001=MenuItem||Examples/Scripts/_</code></pre>
					</td>
				</tr>
			</table>
			<p>A horizontal menu separator line, no script file.</p>
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh">CustomMenu_002=ScriptPath|C:/Program Files (x86)/BrainStim/Examples/BrainStim/QtScript Functions/Functions.qs|Examples/Scripts/Function 2</code></pre>
					</td>
				</tr>
			</table>
			<p>A absolute path where the directory separator is a forward-slash 
			(/).</p>
			<table class="codeframe">
				<tr>
					<td>
					<pre class="prettyprint"><code class="language-bsh">CustomMenu_003=ScriptPath|C:\\Program Files (x86)\\BrainStim\\Examples\\BrainStim\\QtScript Functions\\Functions.qs|Examples/Scripts/Function 3</code></pre>
					</td>
				</tr>
			</table>
			<p>A absolute path where the directory separator is a double 
			back-slash (\\).</p>
			</li>
			<li>After saving (<kbd>CTRL</kbd> + <kbd>s</kbd>) the above changes 
			to the document we need to restart BrainStim to see the result of 
			the above. Notice the BrainStim
		<a href="../GettingStartedGuide/GettingStartedGuide.html#UserInterface">
		'default' OutputLog Tab</a> for changes when clicking the menu entries.</li>
		</ol>
   </div>
<!--doc-version-default-footer-begin-->
<!-- Please do not edit the below line(s) manually, see DocumentVersioning.qs (151116145015), version 1.1.0.1-->
	<script type="text/javascript">document.body.onload = function() {prettyPrint()};</script>
<!--doc-version-default-footer-end-->
 </body>
</html>
